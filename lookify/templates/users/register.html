{% extends "base.html" %}
{% block title %} Register Page {% endblock title %}
{% block content %}
<section class="pxp-hero vh-100" style="background-color: var(--pxpMainColorLight);">
    <div class="row align-items-center pxp-sign-hero-container">
        <div class="col-xl-6 pxp-column">
            <div class="pxp-sign-hero-fig text-center pb-100 pt-100">
                <img src="/static/images/signup-big-fig.png" alt="Sign up">
                <h1 class="mt-4 mt-lg-5">Create an account</h1>
            </div>
        </div>
        <div class="col-xl-6 pxp-column pxp-is-light">
            <div class="pxp-sign-hero-form pb-100 pt-100">
                <div class="row justify-content-center">
                    <div class="col-lg-6 col-xl-7 col-xxl-5">
                        <div class="pxp-sign-hero-form-content">
                            <h5 class="text-center">Sign Up</h5>
                            <form class="mt-4" method="POST">
                                {% csrf_token %}
                               
                                <div class="form-floating mb-3">
                                    {% for choice in form.user_type %}
                                        <div class="form-check form-check-inline">
                                            {{ choice }}
                                            <label class="form-check-label" for="{{ choice.auto_id }}"></label>
                                        </div>
                                    {% endfor %}
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control{% if form.first_name.errors %} is-invalid{% endif %}" id="pxp-signup-page-first-name" name="first_name" placeholder="First name" value="{% if form.is_bound %}{{ form.first_name.value }}{% endif %}">
                                    <label for="pxp-signup-page-first-name">First Name</label>
                                    {% if form.first_name.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.first_name.errors }}
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control{% if form.last_name.errors %} is-invalid{% endif %}" id="pxp-signup-page-last-name" name="last_name" placeholder="Last name" value="{% if form.is_bound %}{{ form.last_name.value }}{% endif %}">
                                    <label for="pxp-signup-page-last-name">Last Name</label>
                                    {% if form.last_name.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.last_name.errors }}
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control{% if form.username.errors %} is-invalid{% endif %}" id="pxp-signup-page-username" name="username" placeholder="Username" value="{% if form.is_bound %}{{ form.username.value }}{% endif %}" hx-get="{% url 'check-username' %}" hx-target="#username-check" hx-trigger="keyup">
                                    <label for="pxp-signup-page-username">Username</label>
                                    {% if form.username.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.username.errors }}
                                        </div>
                                    {% endif %}
                                    <div id="username-check"></div>
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="email" class="form-control{% if form.email.errors %} is-invalid{% endif %}" id="pxp-signup-page-email" name="email" placeholder="Email address" value="{% if form.is_bound %}{{ form.email.value }}{% endif %}" hx-get="{% url 'check-email' %}" hx-target="#email-check" hx-trigger="keyup">
                                    <label for="pxp-signup-page-email">Email address</label>
                                    {% if form.email.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.email.errors }}
                                        </div>
                                    {% endif %}
                                    <div id="email-check"></div>
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="password" class="form-control{% if form.password1.errors %} is-invalid{% endif %}" id="pxp-signup-page-password1" name="password1" placeholder="Create password">
                                    <label for="pxp-signup-page-password1">Create password</label>
                                    {% if form.password1.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.password1.errors }}
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <div class="form-floating mb-3">
                                    <input type="password" class="form-control{% if form.password2.errors %} is-invalid{% endif %}" id="pxp-signup-page-password2" name="password2" placeholder="Confirm password">
                                    <label for="pxp-signup-page-password2">Confirm password</label>
                                    {% if form.password2.errors %}
                                        <div class="invalid-feedback">
                                            {{ form.password2.errors }}
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <button type="submit" class="btn rounded-pill pxp-sign-hero-form-cta">Continue</button>
                                <div class="mt-4 text-center pxp-sign-hero-form-small">
                                    Already have an account? <a href="{% url 'login' %}">Sign in</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
